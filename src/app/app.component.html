<div class="app">
  <app-header></app-header>

  <main class="page">
    <app-search-bar
      [form]="searchForm"
      [isSearching]="isSearching"
      (submitSearch)="onSearch()"
    ></app-search-bar>

    @if (!hasSearch) {
      <app-news-section
        title="Últimas Notícias"
        subtitle="Resultados ranqueados por relevância com base no score do modelo."
        layout="latest"
        [featured]="latestFeatured$ | async"
        [items]="(latestSide$ | async) ?? []"
        [trackBy]="trackById"
      ></app-news-section>
    }
      @if (hasSearch) {
      <app-news-section
        title="Resultados da busca"
        subtitle="Notícias encontradas com base na relevância."
        layout="grid"
        [items]="(allNews$ | async) ?? []"
        [trackBy]="trackById"
      ></app-news-section>
    }

    <app-news-section
      title="Todas Notícias"
      subtitle="Lista completa para navegação e pesquisa."
      layout="grid"
      [items]="(allNews$ | async) ?? []"
      [trackBy]="trackById"
    ></app-news-section>
  </main>
</div>
